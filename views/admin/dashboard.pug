extends ../layouts/basic

block content
	#content: .container
		h1.title Dashboard
		hr
		p.subtitle Tournaments
		a.button.is-primary.toggles-modal(href='#' data-target='#new-tournament-modal')
			span.icon: i.fa.fa-plus
			span New Tournament

		if (tournaments)
			.columns.is-multiline
				each tournament in tournaments
					.column.is-one-third: .card
						header.card-header
							p.card-header-title= tournament.name
						.card-content
							.content
								| Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus nec iaculis mauris.
						footer.card-footer
							a.card-footer-item(href='#') Manage
							a.card-footer-item(href='/tournaments/delete/' + tournament._id) Delete

		include partials/_tournament-modal

block scripts
	script.
		const togglesModal = document.querySelectorAll('.toggles-modal')

		togglesModal.forEach((el) => {
			el.onclick = () => {
				document.querySelector(el.dataset.target).classList.toggle('is-active')
			}
		})